{"version":3,"file":"index.umd.js","sources":["../src/formatToTimeZone.js","../src/convertToLocalTime.js","../src/convertToTimeZone.js","../src/parseFromString.js","../src/parseFromTimeZone.js"],"sourcesContent":["/** @module date-fns */\r\n\r\nimport parseDate from 'date-fns/parse'\r\nimport formatDate from 'date-fns/format'\r\nimport { findTimeZone, getUTCOffset } from 'timezone-support'\r\n\r\n/**\r\n * @category Common Helpers\r\n * @summary Format the date in the specified time zone.\r\n *\r\n * @description\r\n * Returns the formatted date string in the given format, after converting it to the given time zone.\r\n *\r\n * The input date will be converted to the given time zone by default, using its UTC timestamp.\r\n * If the local time in the input date is already in the given time zone, set `options.convertTimeZone`\r\n * to `false`. Otherwise the date will be considered in local time and converted.\r\n *\r\n * The time zone has to be specified as a canonical name from the [IANA time zone list]{@link https://en.wikipedia.org/wiki/List_of_tz_database_time_zones}.\r\n *\r\n * The following tokens are recognized in the format string:\r\n *\r\n * | Unit                    | Token | Result examples                  |\r\n * |-------------------------|-------|----------------------------------|\r\n * | Month                   | M     | 1, 2, ..., 12                    |\r\n * |                         | Mo    | 1st, 2nd, ..., 12th              |\r\n * |                         | MM    | 01, 02, ..., 12                  |\r\n * |                         | MMM   | Jan, Feb, ..., Dec               |\r\n * |                         | MMMM  | January, February, ..., December |\r\n * | Quarter                 | Q     | 1, 2, 3, 4                       |\r\n * |                         | Qo    | 1st, 2nd, 3rd, 4th               |\r\n * | Day of month            | D     | 1, 2, ..., 31                    |\r\n * |                         | Do    | 1st, 2nd, ..., 31st              |\r\n * |                         | DD    | 01, 02, ..., 31                  |\r\n * | Day of year             | DDD   | 1, 2, ..., 366                   |\r\n * |                         | DDDo  | 1st, 2nd, ..., 366th             |\r\n * |                         | DDDD  | 001, 002, ..., 366               |\r\n * | Day of week             | d     | 0, 1, ..., 6                     |\r\n * |                         | do    | 0th, 1st, ..., 6th               |\r\n * |                         | dd    | Su, Mo, ..., Sa                  |\r\n * |                         | ddd   | Sun, Mon, ..., Sat               |\r\n * |                         | dddd  | Sunday, Monday, ..., Saturday    |\r\n * | Day of ISO week         | E     | 1, 2, ..., 7                     |\r\n * | ISO week                | W     | 1, 2, ..., 53                    |\r\n * |                         | Wo    | 1st, 2nd, ..., 53rd              |\r\n * |                         | WW    | 01, 02, ..., 53                  |\r\n * | Year                    | YY    | 00, 01, ..., 99                  |\r\n * |                         | YYYY  | 1900, 1901, ..., 2099            |\r\n * | ISO week-numbering year | GG    | 00, 01, ..., 99                  |\r\n * |                         | GGGG  | 1900, 1901, ..., 2099            |\r\n * | AM/PM                   | A     | AM, PM                           |\r\n * |                         | a     | am, pm                           |\r\n * |                         | aa    | a.m., p.m.                       |\r\n * | Hour                    | H     | 0, 1, ... 23                     |\r\n * |                         | HH    | 00, 01, ... 23                   |\r\n * |                         | h     | 1, 2, ..., 12                    |\r\n * |                         | hh    | 01, 02, ..., 12                  |\r\n * | Minute                  | m     | 0, 1, ..., 59                    |\r\n * |                         | mm    | 00, 01, ..., 59                  |\r\n * | Second                  | s     | 0, 1, ..., 59                    |\r\n * |                         | ss    | 00, 01, ..., 59                  |\r\n * | 1/10 of second          | S     | 0, 1, ..., 9                     |\r\n * | 1/100 of second         | SS    | 00, 01, ..., 99                  |\r\n * | Millisecond             | SSS   | 000, 001, ..., 999               |\r\n * | Timezone abbreviation   | z     | CET, CEST, EST, EDT, ...         |\r\n * | Timezone offset to UTC  | Z     | -01:00, +00:00, ... +12:00       |\r\n * |                         | ZZ    | -0100, +0000, ..., +1200         |\r\n * | Seconds timestamp       | X     | 512969520                        |\r\n * | Milliseconds timestamp  | x     | 512969520900                     |\r\n *\r\n * The characters wrapped in square brackets are escaped.\r\n *\r\n * The result may vary by locale.\r\n *\r\n * @param {Date|String|Number} argument - the original date\r\n * @param {String} formatString - the string of formatting tokens\r\n * @param {Object} options - the object with options\r\n * @param {Object} [options.locale=enLocale] - the locale object\r\n * @param {String} options.timeZone - the canonical name of the target time zone\r\n * @param {Boolean} [options.convertTimeZone=true] - if the date should be converted to the given time zone before formatting\r\n * @returns {String} the formatted date string\r\n *\r\n * @example\r\n * // Represent midnight on 11 February 2014, UTC in middle-endian format, New York time:\r\n * var result = formatToTimeZone(\r\n *   new Date(Date.UTC(2014, 1, 11)),\r\n *   'MM/dd/yyyy h:mm A [GMT]Z (z)',\r\n *   { timeZone: 'America/New_York' }\r\n * )\r\n * // Returns '02/10/2014 7:00 PM GMT-0500 (EST)'\r\n *\r\n * @example\r\n * // Represent noon on 2 July 2014 in Esperanto, Madrid time:\r\n * var locale = require('date-fns/locale/eo')\r\n * var result = formatToTimeZone(\r\n *   new Date(2014, 6, 2, 12),\r\n *   \"HH:mm, do 'de' MMMM yyyy (Zz)\",\r\n *   { locale, timeZone: 'Europe/Madrid', convertTimeZone: false }\r\n * )\r\n * // Returns '12:00, 2-a de julio 2014 (+02:00 CEST)'\r\n */\r\nfunction formatToTimeZone (argument, formatString, options) {\r\n  let date = parseDate(argument)\r\n  let { timeZone, convertTimeZone } = options\r\n  timeZone = findTimeZone(timeZone)\r\n  timeZone = getUTCOffset(date, timeZone)\r\n  if (convertTimeZone !== false) {\r\n    const offset = timeZone.offset - date.getTimezoneOffset()\r\n    date = new Date(date.getTime() - offset * 60 * 1000)\r\n  }\r\n  formatString = formatTimeZoneTokens(formatString, timeZone)\r\n  return formatDate(date, formatString, options)\r\n}\r\n\r\nfunction padToTwoDigits (number) {\r\n  return number > 9 ? number : `0${number}`\r\n}\r\n\r\nfunction formatTimeZoneOffset (offset, separator) {\r\n  let sign\r\n  if (offset <= 0) {\r\n    offset = -offset\r\n    sign = '+'\r\n  } else {\r\n    sign = '-'\r\n  }\r\n  const hours = padToTwoDigits(Math.floor(offset / 60))\r\n  const minutes = padToTwoDigits(offset % 60)\r\n  return sign + hours + separator + minutes\r\n}\r\n\r\nfunction formatTimeZoneTokens (format, timeZone) {\r\n  return format.replace(/z|ZZ?/g, match => {\r\n    switch (match) {\r\n      case 'z':\r\n        return `[${timeZone.abbreviation}]`\r\n      case 'Z':\r\n        return formatTimeZoneOffset(timeZone.offset, ':')\r\n      default: // 'ZZ'\r\n        return formatTimeZoneOffset(timeZone.offset, '')\r\n    }\r\n  })\r\n}\r\n\r\nexport { formatToTimeZone }\r\n","/** @module date-fns */\r\n\r\nimport parse from 'date-fns/parse'\r\nimport { findTimeZone, getUTCOffset } from 'timezone-support'\r\n\r\n/**\r\n * @category Common Helpers\r\n * @summary Convert the date from the given time zone to the local time.\r\n *\r\n * @description\r\n * Converts the given date from the given time zone to the local time and returns it as a new `Date` object.\r\n * Getters for local time parts of the input `Date` object (getFullYear, getMonth, ...) will be assumed to\r\n * return time in the given time zone.\r\n *\r\n * The time zone has to be specified as a canonical name from the [IANA time zone list]{@link https://en.wikipedia.org/wiki/List_of_tz_database_time_zones}.\r\n *\r\n * @param {Date|String|Number} argument - the value to convert\r\n * @param {Object} options - the object with options\r\n * @param {String} options.timeZone - the canonical name of the source time zone\r\n * @returns {Date} the parsed date in the local time zone\r\n *\r\n * @example\r\n * // Convert the time in the New York time zone to the local time:\r\n * const date = new Date(2018, 8, 2, 10, 0)\r\n * const result = convertToLocalTime(date, { timeZone: 'America/New_York' })\r\n * // Returns { date: Date, zone: { abbreviation: 'EDT', offset: -360 }\r\n * // The date will be \"2018-09-02T16:00:00Z\".\r\n */\r\nfunction convertToLocalTime (argument, options) {\r\n  let date = parse(argument)\r\n  const timeZone = findTimeZone(options.timeZone)\r\n  let { offset } = getUTCOffset(date, timeZone)\r\n  offset = date.getTimezoneOffset() - offset\r\n  return new Date(date.getTime() - offset * 60 * 1000)\r\n}\r\n\r\nexport { convertToLocalTime }\r\n","/** @module date-fns */\r\n\r\nimport parse from 'date-fns/parse'\r\nimport { findTimeZone, getUTCOffset } from 'timezone-support'\r\n\r\n/**\r\n * @category Common Helpers\r\n * @summary Convert the date from the local time to the given time zone.\r\n *\r\n * @description\r\n * Converts the given date from the local time to the given time zone and returns a new `Date` object, which has its local time set to it.\r\n * The returned `Date` object should not be used form comparisons or other computations. Only the its getters for the\r\n * local time parts can be used (getFullYear, getMonth, ...).\r\n *\r\n * The time zone has to be specified as a canonical name from the [IANA time zone list]{@link https://en.wikipedia.org/wiki/List_of_tz_database_time_zones}.\r\n *\r\n * @param {Date|String|Number} argument - the value to convert\r\n * @param {Object} options - the object with options\r\n * @param {String} options.timeZone - the canonical name of the target time zone\r\n * @returns {Date} the parsed date in the target time zone\r\n *\r\n * @example\r\n * // Convert the current local time to the New York time zone:\r\n * const result = convertToTimeZone(new Date(), { timeZone: 'America/New_York' })\r\n * Returns { date: Date, zone: { abbreviation: 'EST', offset: -300 }\r\n */\r\nfunction convertToTimeZone (argument, options) {\r\n  let date = parse(argument)\r\n  const timeZone = findTimeZone(options.timeZone)\r\n  let { offset } = getUTCOffset(date, timeZone)\r\n  offset -= date.getTimezoneOffset()\r\n  return new Date(date.getTime() - offset * 60 * 1000)\r\n}\r\n\r\nexport { convertToTimeZone }\r\n","/** @module date-fns */\r\n\r\nimport { parseZonedTime } from 'timezone-support/dist/parse-format'\r\nimport { convertTimeToDate } from 'timezone-support/dist/lookup-convert'\r\n\r\n/**\r\n * @category Common Helpers\r\n * @summary Parse the date string and convert it to the local time.\r\n *\r\n * @description\r\n * Returns the date parsed from the date string using the given format string and converts the parsed date to the local time.\r\n *\r\n * The following tokens are recognized in the format string:\r\n *\r\n * | Token  | Input example    | Description                       |\r\n * |--------|------------------|-----------------------------------|\r\n * | `YY`   | 18               | Two-digit year                    |\r\n * | `YYYY` | 2018             | Four-digit year                   |\r\n * | `M`    | 1-12             | Month, beginning at 1             |\r\n * | `MM`   | 01-12            | Month, 2-digits                   |\r\n * | `D`    | 1-31             | Day of month                      |\r\n * | `DD`   | 01-31            | Day of month, 2-digits            |\r\n * | `H`    | 0-23             | Hours                             |\r\n * | `HH`   | 00-23            | Hours, 2-digits                   |\r\n * | `h`    | 1-12             | Hours, 12-hour clock              |\r\n * | `hh`   | 01-12            | Hours, 12-hour clock, 2-digits    |\r\n * | `m`    | 0-59             | Minutes                           |\r\n * | `mm`   | 00-59            | Minutes, 2-digits                 |\r\n * | `s`    | 0-59             | Seconds                           |\r\n * | `ss`   | 00-59            | Seconds, 2-digits                 |\r\n * | `S`    | 0-9              | Hundreds of milliseconds, 1-digit |\r\n * | `SS`   | 00-99            | Tens of milliseconds, 2-digits    |\r\n * | `SSS`  | 000-999          | Milliseconds, 3-digits            |\r\n * | `z`    | EST              | Time zone abbreviation            |\r\n * | `Z`    | -5:00            | Offset from UTC, 2-digits         |\r\n * | `ZZ`   | -0500            | Compact offset from UTC, 2-digits |\r\n * | `A`    | AM PM            | Post or ante meridiem, upper-case |\r\n * | `a`    | am pm            | Post or ante meridiem, lower-case |\r\n *\r\n * To escape characters in the format string, wrap them in square brackets (e.g. `[G]`). Punctuation symbols (-:/.()) do not need to be wrapped.\r\n *\r\n * @param {String} dateString - the string to parse\r\n * @param {String} formatString - the custom format to parse the date from\r\n * @returns {Date} the parsed date in the local time zone\r\n *\r\n * @example\r\n * // Parse string '11.2.2014 11:30:30' to date in Berlin:\r\n * const result = parseFromTimeZone('11.2.2014 11:30:30', 'D.M.YYYY H:mm:ss')\r\n * // Returns Tue Feb 11 2014 10:30:30 UTC\r\n *\r\n * @example\r\n * // Parse string '02/11/2014 11:30:30' to date, New York time:\r\n * const result = parseFromString('02/11/2014 11:30:30 AM GMT-0500 (EDT)',\r\n *   'MM/DD/YYYY h:mm:ss.SSS A [GMT]ZZ (z)')\r\n * // Returns Tue Feb 11 2014 16:30:30 UTC\r\n */\r\nfunction parseFromString (dateString, formatString) {\r\n  const time = parseZonedTime(dateString, formatString)\r\n  return convertTimeToDate(time)\r\n}\r\n\r\nexport { parseFromString }\r\n","/** @module date-fns */\r\n\r\nimport parse from 'date-fns/parse'\r\nimport { findTimeZone, getUTCOffset, getUnixTime } from 'timezone-support'\r\nimport { parseZonedTime } from 'timezone-support/dist/parse-format'\r\n\r\n/**\r\n * @category Common Helpers\r\n * @summary Parse the date string and convert it from the specified time zone to the local time.\r\n *\r\n * @description\r\n * Returns the date parsed from the date string, optionally using the given format string, and convert the parsed date from the given time zone to the local time.\r\n *\r\n * If the format string is omitted, the date string will be parsed by `date-fns/parse`, which supports extended ISO 8601 formats.\r\n *\r\n * The following tokens are recognized in the format string:\r\n *\r\n * | Token  | Input example    | Description                       |\r\n * |--------|------------------|-----------------------------------|\r\n * | `YY`   | 18               | Two-digit year                    |\r\n * | `YYYY` | 2018             | Four-digit year                   |\r\n * | `M`    | 1-12             | Month, beginning at 1             |\r\n * | `MM`   | 01-12            | Month, 2-digits                   |\r\n * | `D`    | 1-31             | Day of month                      |\r\n * | `DD`   | 01-31            | Day of month, 2-digits            |\r\n * | `H`    | 0-23             | Hours                             |\r\n * | `HH`   | 00-23            | Hours, 2-digits                   |\r\n * | `h`    | 1-12             | Hours, 12-hour clock              |\r\n * | `hh`   | 01-12            | Hours, 12-hour clock, 2-digits    |\r\n * | `m`    | 0-59             | Minutes                           |\r\n * | `mm`   | 00-59            | Minutes, 2-digits                 |\r\n * | `s`    | 0-59             | Seconds                           |\r\n * | `ss`   | 00-59            | Seconds, 2-digits                 |\r\n * | `S`    | 0-9              | Hundreds of milliseconds, 1-digit |\r\n * | `SS`   | 00-99            | Tens of milliseconds, 2-digits    |\r\n * | `SSS`  | 000-999          | Milliseconds, 3-digits            |\r\n * | `z`    | EST              | Time zone abbreviation            |\r\n * | `Z`    | -5:00            | Offset from UTC, 2-digits         |\r\n * | `ZZ`   | -0500            | Compact offset from UTC, 2-digits |\r\n * | `A`    | AM PM            | Post or ante meridiem, upper-case |\r\n * | `a`    | am pm            | Post or ante meridiem, lower-case |\r\n *\r\n * To escape characters in the format string, wrap them in square brackets (e.g. `[G]`). Punctuation symbols (-:/.()) do not need to be wrapped.\r\n *\r\n * The time zone has to be specified as a canonical name from the [IANA time zone list]{@link https://en.wikipedia.org/wiki/List_of_tz_database_time_zones}.\r\n *\r\n * @param {String} dateString - the string to parse\r\n * @param {String} [formatString] - the custom format to parse the date from\r\n * @param {Object} options - the object with options\r\n * @param {0 | 1 | 2} [options.additionalDigits=2] - the additional number of digits in the extended year format\r\n * @param {String} options.timeZone - the canonical name of the source time zone\r\n * @returns {Date} the parsed date in the local time zone\r\n *\r\n * @example\r\n * // Parse string '2014-02-11 11:30:30 AM' to date, New York time:\r\n * const result = parseFromTimeZone('2014-02-11 11:30:30',\r\n *   { timeZone: 'America/New_York' })\r\n * // Returns Tue Feb 11 2014 16:30:30 UTC\r\n *\r\n * @example\r\n * // Parse string '11.2.2014 11:30:30' to date, Berlin time:\r\n * const result = parseFromTimeZone('11.2.2014 11:30:30',\r\n *   'D.M.YYYY H:mm:ss', { timeZone: 'Europe/Berlin' })\r\n * // Returns Tue Feb 11 2014 10:30:30 UTC\r\n *\r\n * @example\r\n * // Parse string '+02014101', if the additional number of digits\r\n * // in the extended year format is 1, Madrid time:\r\n * var result = parseFromTimeZone('+02014101',\r\n *   { additionalDigits: 1, timeZone: 'Europe/Madrid' })\r\n * //=> Fri Apr 10 2014 22:00:00 UTC\r\n */\r\nfunction parseFromTimeZone (dateString, formatString, options) {\r\n  if (typeof formatString !== 'string') {\r\n    options = formatString\r\n    formatString = undefined\r\n  }\r\n  let { timeZone } = options\r\n  timeZone = findTimeZone(timeZone)\r\n  if (formatString) {\r\n    const time = parseZonedTime(dateString, formatString)\r\n    const unixTime = getUnixTime(time, timeZone)\r\n    return new Date(unixTime)\r\n  }\r\n  const date = parse(dateString, options)\r\n  let { offset } = getUTCOffset(date, timeZone)\r\n  offset -= date.getTimezoneOffset()\r\n  return new Date(date.getTime() + offset * 60 * 1000)\r\n}\r\n\r\nexport { parseFromTimeZone }\r\n"],"names":["padToTwoDigits","number","formatTimeZoneOffset","offset","separator","Math","floor","argument","options","date","parse","timeZone","findTimeZone","getUTCOffset","getTimezoneOffset","Date","getTime","dateString","formatString","time","parseZonedTime","convertTimeToDate","undefined","unixTime","getUnixTime","parseDate","convertTimeZone","replace","match","abbreviation","formatDate"],"mappings":"klBAiHA,SAASA,EAAgBC,UACP,EAATA,EAAaA,MAAaA,EAGnC,SAASC,EAAsBC,EAAQC,UAEjCD,GAAU,GACZA,GAAUA,EACH,KAEA,KAEKH,EAAeK,KAAKC,MAAMH,EAAS,KAE3BC,EADNJ,EAAeG,EAAS,mHClG1C,SAA6BI,EAAUC,OACjCC,EAAOC,EAAMH,GACXI,EAAWC,eAAaJ,EAAQG,UAChCR,EAAWU,eAAaJ,EAAME,GAA9BR,cACNA,EAASM,EAAKK,oBAAsBX,EAC7B,IAAIY,KAAKN,EAAKO,UAAqB,GAATb,EAAc,0BCPjD,SAA4BI,EAAUC,OAChCC,EAAOC,EAAMH,GACXI,EAAWC,eAAaJ,EAAQG,UAChCR,EAAWU,eAAaJ,EAAME,GAA9BR,cACNA,GAAUM,EAAKK,oBACR,IAAIC,KAAKN,EAAKO,UAAqB,GAATb,EAAc,wBCyBjD,SAA0Bc,EAAYC,OAC9BC,EAAOC,iBAAeH,EAAYC,UACjCG,oBAAkBF,wBCc3B,SAA4BF,EAAYC,EAAcV,GACxB,iBAAjBU,IACTV,EAAUU,EACVA,OAAeI,OAEXX,EAAaH,EAAbG,YACNA,EAAWC,eAAaD,GACpBO,EAAc,KACVC,EAAOC,iBAAeH,EAAYC,GAClCK,EAAWC,cAAYL,EAAMR,UAC5B,IAAII,KAAKQ,OAEZd,EAAOC,EAAMO,EAAYT,GACzBL,EAAWU,eAAaJ,EAAME,GAA9BR,cACNA,GAAUM,EAAKK,oBACR,IAAIC,KAAKN,EAAKO,UAAqB,GAATb,EAAc,yBJajD,SAA2BI,EAAUW,EAAcV,OA8BZG,EA7BjCF,EAAOgB,EAAUlB,GACfI,EAA8BH,EAA9BG,SAAUe,EAAoBlB,EAApBkB,mBAChBf,EAAWC,eAAaD,GACxBA,EAAWE,eAAaJ,EAAME,IACN,IAApBe,EAA2B,KACvBvB,EAASQ,EAASR,OAASM,EAAKK,oBACtCL,EAAO,IAAIM,KAAKN,EAAKO,UAAqB,GAATb,EAAc,YAuBZQ,EArBaA,EAAlDO,EAAoCA,EAsBtBS,QAAQ,SAAU,SAAAC,UACtBA,OACD,cACQjB,EAASkB,qBACjB,WACI3B,EAAqBS,EAASR,OAAQ,oBAEtCD,EAAqBS,EAASR,OAAQ,OA5B5C2B,EAAWrB,EAAMS,EAAcV"}